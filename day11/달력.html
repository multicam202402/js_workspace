<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #wrapper{
            width: 700px;
            height: 720px;
            background-color: yellow;
            margin: auto;
        }
        #header{
            width:100%;
            height:70px;
            background-color: aquamarine;
            line-height: 70px;
            text-align: center;
        }
        #header span{
            font-size:35px;
            font-weight: bold;
        }
        #header button{
            width:50px;
            height:30px;
        }
        #header span{
            margin: 0px 30px;
            box-sizing: border-box;
        }
        #dayTitle{
            width:100%;
            height:50px;
            background-color: blanchedalmond;
            position: relative;
        }
        #content{
            width:100%;
            height:100%;
            position: relative;
        }
    </style>
    <script src="./Cell.js"></script>
    <script>
        let wrapper;
        let dayTitle; //요일이 들어갈 div
        let content; //달력의 날짜 셀들이 들어갈 div

        let cellSize=100; //셀의 크기(얘네들이 모여서 달력의 크기를 결정)
        let dayTitleArray=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];
        let cellArray=[]; // 이차원 배열
        let currentDate; //현재 사용자가 보고 있는 날짜

        function createDayCell(){
            //container, x, y, width, height, content
            for(let i=0;i<dayTitleArray.length;i++){
                let cell = new Cell(dayTitle, i*cellSize, 0, cellSize, 50, dayTitleArray[i]);
                cell.div.style.lineHeight=50+"px";
                cell.div.style.textAlign="center";
            }
        }

        function createNumCell(){
            for(let i=0;i<6;i++){ //층수
                
                let arr=[];
                for(let j=0; j<dayTitleArray.length;j++){ //호수
                    //container, x, y, width, height, content
                    let cell = new Cell(content, j*cellSize, i*cellSize, cellSize, cellSize, "x");
                    arr.push(cell); //일차원 배열에 담기
                }
                cellArray.push(arr); //층수만큼 일차원 배열인 arr을 넣기
            }
        }

        //달력의 제목을 출력하는 함수 
        function printTitle(){
            let span = document.querySelector("#header span");
            let yy=currentDate.getFullYear(); //현재 연도
            let mm=currentDate.getMonth(); //현재 월  0 부터 시작

            span.innerText=`${yy}년 ${mm+1}월`;
        }


        //해당 월이 무슨 요일부터 시작하는지를 알려주는 함수 
        function getStartDayOfWeek(){
            //let d = new Date();
        }

        function init(){
            //달력 크기의 동적 변경 
            wrapper.style.width = cellSize * 7+"px"; //달력의 너비 
            wrapper.style.height = cellSize * 6+(70+50)+"px";

            content.style.height=cellSize*6+"px";

        }

        addEventListener("load", function(){
            wrapper = document.getElementById("wrapper");
            dayTitle = document.getElementById("dayTitle");
            content = document.getElementById("content");
            
            init();
            
            currentDate  =new Date(); 
            printTitle();

            createDayCell(); //요일 생성 
            createNumCell(); //날짜 셀 만들기
        });

    </script>
</head>
<body>
    
    <div id="wrapper">
        <div id="header">
            <button>◀</button>
            <span>2019년 03월</span>
            <button>▶</button>
        </div>
        <div id="dayTitle"></div>
        <div id="content"></div>
    </div>

</body>
</html>